(()=>{"use strict";var t={579:(t,e,n)=>{n.d(e,{Z:()=>s});var o=n(933),r=n.n(o),i=n(476),a=n.n(i)()(r());a.push([t.id,'html,body{height:100%;font-family:"Roboto",sans-serif;background-color:#e8fff9}.container{width:1140px;margin:0 auto}*{box-sizing:border-box}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,input,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}.str0{stroke:#4a7989;stroke-width:.39;stroke-miterlimit:22.9256}.fil1{fill:#ffdbb8}.fil2{fill:#e6c6a7}.fil0{fill:#4a7989}.fil3{fill:#6e8e99}.fil4{fill:#3c616d}.svg{margin-left:2%;shape-rendering:geometricPrecision;text-rendering:geometricPrecision;image-rendering:optimizeQuality;fill-rule:evenodd;clip-rule:evenodd;width:5rem;height:6rem}.header{display:flex;align-items:center}.header__wrap{background-color:#ffe8cf;padding:.5rem}.header__title{font-family:"Montserrat",sans-serif;margin-left:2rem;font-size:2.2rem;font-weight:900;color:#4a7989}.header__logo{display:flex;align-items:center}.content{margin:3rem auto 0;padding:0 100px 5rem 100px}.content__date{color:#4a7989;font-weight:600;font-size:1rem;width:9rem;padding:.5rem;cursor:pointer}.content__header{display:grid;grid-template-columns:.6fr 1.5fr 8fr 2fr 1fr;gap:.8rem;color:#ff8787;font-weight:700}.content__text,.content__text_gr{font-size:1.2rem;width:31rem;font-family:"Roboto",sans-serif;color:#31494f;font-weight:600;padding:1rem 0 1rem 1rem;background-color:#fff;outline:none}.content__checkbox{display:none}.content__checkbox:checked+.fake-chb::before{content:"";display:block;width:20px;height:20px;background-color:#ff8787;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.content label{display:flex;align-items:center;flex-direction:column}.content__item{display:grid;grid-template-columns:.6fr 1.5fr 8fr 2fr 1fr;gap:1.5rem;align-items:center;margin-top:1rem}.content__item:hover{box-shadow:8px 9px 9px 0px rgba(0,0,0,.16)}.content__btn{background-color:#fcad96;border-color:#fcad96;color:#fff;width:3.5rem;height:3.5rem;font-size:2.3rem}.content__btn:hover{border-color:#fd7d58;background-color:#fd7d58}.content__created,.content__fulfil{display:flex;align-items:flex-start;cursor:pointer}.content__fulfil-title{width:6rem}.content__created:hover span,.content__fulfil:hover span{color:#8792ff}.content__created:hover .icon__sort,.content__fulfil:hover .icon__sort{fill:#8792ff}.content__title,.content__fulfil{justify-self:center}.bggray{font-weight:300}.line{text-decoration-line:line-through}.colored{background-color:aqua !important}.icon__sort{fill:#ff8787}.fake-chb{width:3.5rem;height:3.5rem;border:1px solid #ff8787;position:relative;margin:0 5px}@media all and (max-width: 1139.9px){.content{padding:0 0 3rem 0}}@media all and (max-width: 979.9px){.content__btn{width:2rem;height:2rem;display:flex;align-items:center;justify-content:center}.content__text{width:100%;font-size:1rem}.content__header{gap:.5rem;font-size:.8rem}.fake-chb{width:2rem;height:2rem}}.form{margin:5rem auto 0;display:flex;align-items:center;justify-content:center;gap:1rem}.form__input{font-size:1.6rem;color:#31494f;padding-left:8px;width:42rem;height:5rem;border-radius:7px;border:none}.form__input:focus-visible{outline:none;box-shadow:8px 9px 9px 0px rgba(0,0,0,.16)}.form__btn{border-color:#4a7989;background-color:#4a7989;width:130px;height:3.9rem;align-self:center;border-radius:7px;font-size:15px;cursor:pointer;color:#fff;font-weight:500;font-size:1.2rem}.form__btn:hover{box-shadow:0px 5px 8px 0px rgba(0,0,0,.16);background-color:#5eabc4;border-color:#5eabc4}.form__date{padding:1.2rem;border-radius:7px;font-size:1rem;font-weight:600;cursor:pointer;color:#4a7989}.form__date:focus-visible{outline:none;box-shadow:8px 9px 9px 0px rgba(0,0,0,.16)}@media all and (max-width: 1139.9px){.form{flex-direction:column;align-items:start}.form__btn{align-self:unset}.form__input{width:100%}}.control{margin-bottom:2rem;display:flex;justify-content:space-between;align-items:center}.control__btn{border-color:#4a7989;background-color:#4a7989;width:200px;height:3.1rem;align-self:center;border-radius:7px;font-size:15px;cursor:pointer;color:#fff;font-weight:500;font-size:1rem}.control__btn:hover{box-shadow:0px 5px 8px 0px rgba(0,0,0,.16);background-color:#5eabc4;border-color:#5eabc4}@media all and (max-width: 1139.9px){.container{width:96vw;min-width:555px}}',""]);const s=a},476:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(a[d]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);o&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},933:t=>{t.exports=function(t){return t[1]}},892:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var i={},a=[],s=0;s<t.length;s++){var d=t[s],c=o.base?d[0]+o.base:d[0],l=i[c]||0,f="".concat(c," ").concat(l);i[c]=l+1;var h=n(f),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var u=r(p,o);o.byIndex=s,e.splice(s,0,{identifier:f,updater:u,references:1})}a.push(f)}return a}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=o(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var d=o(t,r),c=0;c<i.length;c++){var l=n(i[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=d}}},311:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},60:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},192:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},760:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},865:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{const t=[{id:1,todoText:"Найти хороший подарок",completed:!1,fulfil:"2023-12-01",created:"2023-11-01"},{id:2,todoText:"Заказать отель в Нижнем Новгороде",completed:!1,fulfil:"2023-12-02",created:"2023-09-28"},{id:3,todoText:"Созвониться с Сергеем Александровичем",completed:!1,fulfil:"2023-12-03",created:"2023-11-15"},{id:4,todoText:"До 15.09 - подготовить и отправить материалы",completed:!1,fulfil:"2023-12-04",created:"2023-10-25"},{id:5,todoText:"Подготовиться к Sprint Review",completed:!1,fulfil:"2023-12-05",created:"2023-11-25"}],e=".content__item";class o{rendered=!1;constructor(t){this.todoText=this._checkInput(t.todoText),this.id=t.id,this.completed=t.completed,this.fulfil=t.fulfil,this.created=t.created}completeTodo(){this.completed=!this.completed;const t=document.querySelector(`${e}[data-id="${this.id}"]`),n=document.querySelector(`.content__text[data-id="${this.id}"]`);this.completed?(n.classList.add("bggray","line"),t.classList.add("bggray"),this.rendered=!1):(n.classList.remove("bggray","line"),t.classList.remove("bggray"))}updateText(t){this.todoText=this._checkInput(t)}updateDate(t){this.fulfil=this._checkInput(t)}_checkInput(t){let e=t.trim().slice(0,255);return e?(e=e.replace(/[><]/g,""),e=e.replace(/script/g,""),e):""}_checkDate(t){let e=t.trim().slice(0,10);return e&&/^(0-9){4}-(0-9){2}-(0-9){2}$/.test(e)?e:""}formatDate(t){let e=t.split("-");return e[2]+"."+e[1]+"."+e[0]}markUp(){return this.rendered=!0,`\n\n      <div class="${this.completed?"content__item bggray":"content__item"}"\n           data-id="${this.id}"\n      >\n      \n        <label class="content__label">\n          <input type="checkbox"\n              data-id="${this.id}"\n              class="content__checkbox"\n              ${this.completed?"checked":""}\n          >\n          <div class="fake-chb"></div>\n        </label>\n\n        <div>${this.formatDate(this.created)}</div>\n        <form class="content__form" type="submit" data-id="${this.id}">\n        <input\n               class="${this.completed?"content__text bggray line":"content__text"}"\n               data-id="${this.id}"\n               value="${this.todoText}"\n               type="text"\n        >\n        </form>\n\n        <input class="content__date"\n               value="${this.fulfil}"\n               data-id="${this.id}"\n               type="date"\n               name="trip-start"\n               min="2018-01-01"\n               max="2035-12-31"\n        >\n\n        <button class="content__btn" data-id="${this.id}">-</button>\n      </div>\n    `}}var r=n(892),i=n.n(r),a=n(760),s=n.n(a),d=n(311),c=n.n(d),l=n(192),f=n.n(l),h=n(60),p=n.n(h),u=n(865),m=n.n(u),_=n(579),g={};g.styleTagTransform=m(),g.setAttributes=f(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),i()(_.Z,g),_.Z&&_.Z.locals&&_.Z.locals;class b{getContentHeader(){return'\n\n    <div class="content__header">\n      <div>Выполнено</div>\n      <div class="content__created" data-name="created">\n        <span class="content__created-title"data-name="created">Создано</span>\n        <svg class="content__icon icon__sort" data-name="created" width="18" height="18" viewBox="0 0 320 512"><path class="icon__sort" data-name="created" d="M137.4 41.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9s-16.6 19.8-29.6 19.8H32c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128zm0 429.3l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128c-12.5 12.5-32.8 12.5-45.3 0z"/></svg>\n      </div>\n\n\n      <div class="content__title">Заметка</div>\n\n      <div class="content__fulfil" data-name="fulfil">\n        <span class="content__fulfil-title" data-name="fulfil">Дата исполнения</span>\n        <svg class="content__icon icon__sort" data-name="fulfil" width="18" height="18" viewBox="0 0 320 512"><path class="icon__sort" data-name="fulfil" d="M137.4 41.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9s-16.6 19.8-29.6 19.8H32c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128zm0 429.3l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128c-12.5 12.5-32.8 12.5-45.3 0z"/></svg>\n      </div>\n      <div>Удалить</div>\n    </div>\n    '}}class v{constructor(t){this.todos=t,"Notification"in window?"granted"===Notification.permission?this.showMessage():"denied"!==Notification.permission&&Notification.requestPermission().then((t=>{"granted"===t&&this.showMessage()})):console.warn("Браузер не поддерживает уведомления")}checkTodos(){let t=(new Date).toISOString().split("T")[0],e=[];for(let n of this.todos)n.fulfil!==t||n.completed||e.push(n.todoText);return e}showMessage(){const t=this.checkTodos();let e=0,n=null,o=500;const r=()=>{new Promise((r=>{n=setTimeout((()=>{new Notification(t[e]),r()}),o)})).then((()=>{o+=500,e++,clearTimeout(n),t[e]&&r(e)}))};t.length&&r()}}document.querySelector(".header__wrap").insertAdjacentHTML("beforeend",'\n\n      <div class="header">\n\n        <div \n        ="header__logo">\n           <svg class="svg" viewBox="0 0 17.7 21.45">\n             <g id="Слой_x0020_1">\n               <metadata id="CorelCorpID_0Corel-Layer"/>\n               <g id="_936036768">\n                 <g>\n                   <rect class="fil1" transform="matrix(0.201326 0.143512 -0 0.188936 0.0434972 6.31556)" width="43.74" height="46.61"/>\n                   <path class="fil4" d="M0.04 6.32l8.81 6.27 0 8.81 -8.81 -6.28 0 -8.8zm7.16 6.99c-0.23,-0.17 -0.44,-0.18 -0.62,-0.03 -0.12,0.11 -0.26,0.33 -0.42,0.69l-1.43 3.1 -0.46 -0.33 -1.75 -6.01c-0.1,-0.36 -0.2,-0.62 -0.28,-0.77 -0.12,-0.2 -0.3,-0.4 -0.55,-0.57l0 -0.44 2.45 1.75 0 0.43c-0.31,-0.22 -0.47,-0.23 -0.47,-0.04 0,0.08 0.05,0.3 0.15,0.66l1.02 3.5 0.84 -1.92c0.12,-0.24 0.18,-0.43 0.18,-0.54 0,-0.29 -0.23,-0.59 -0.7,-0.93l0 -0.43 2.04 1.46 0 0.42z"/>\n                 </g>\n                 <g>\n                   <rect class="fil1" transform="matrix(0.201326 -0.142521 -0 0.188936 8.84923 12.5927)" width="43.74" height="46.61"/>\n                   <path class="fil0" d="M8.85 12.59l8.81 -6.23 0 8.8 -8.81 6.24 0 -8.81zm7.16 -3.18c-0.24,0.17 -0.45,0.46 -0.62,0.87 -0.12,0.27 -0.27,0.69 -0.43,1.28l-1.43 5.13 -0.46 0.33 -1.75 -3.53c-0.1,-0.21 -0.19,-0.34 -0.28,-0.37 -0.11,-0.04 -0.3,0.03 -0.55,0.21l0 -0.44 2.45 -1.73 0 0.43c-0.31,0.23 -0.47,0.43 -0.47,0.63 0,0.08 0.05,0.22 0.16,0.44l1.02 2.05 0.84 -3.11c0.12,-0.42 0.18,-0.69 0.18,-0.8 0,-0.29 -0.23,-0.26 -0.7,0.07l0 -0.43 2.04 -1.45 0 0.42z"/>\n                 </g>\n                 <rect class="fil3 str0" transform="matrix(0.201324 -0.14335 0.188933 0.134528 0.043488 6.30105)" width="43.74" height="46.61"/>\n               </g>\n             </g>\n           </svg>\n         </div>\n        \n        <h1 class\n        ="header__title">My TODO List</h1>\n      </div>\n');const x=new class{contentContainer=document.querySelector(".content");sortingAsc=!0;todos=[];constructor(){this._getTodos(),this._renderBtns(),this._renderContentHeader(),this._init(),this.notification=new v(this.todos)}_getTodos(){let e=localStorage.getItem("todos");e||(localStorage.setItem("todos",JSON.stringify(t)),e=localStorage.getItem("todos")),this._handleData(JSON.parse(e))}_handleData(t){t.map((t=>{this.todos.push(new o(t))})),this._render()}_renderBtns(){this.contentContainer.insertAdjacentHTML("afterbegin",'\n  <div class="control">\n    <button class="control__btn" data-role="delete-last" type="button">Удалить запись в конце</button>\n    <button class="control__btn" data-role="delete-first" type="button">Удалить запись в начале</button>\n    </div>\n')}_renderContentHeader(){document.querySelector(".control").insertAdjacentHTML("afterend",(new b).getContentHeader())}_render(){for(let t of this.todos)t.rendered||this.contentContainer.insertAdjacentHTML("beforeend",t.markUp(this.todos.indexOf(t)))}_renderBottom(t){t.rendered||this.contentContainer.insertAdjacentHTML("beforeend",t.markUp(this.todos.indexOf(t)))}_renderTop(t){t.rendered||document.querySelector(".content__header").insertAdjacentHTML("afterend",t.markUp(t))}_removeMarkUp(t){this._getOneTodo(t).rendered=!1,document.querySelector(`${e}[data-id="${t}"]`).remove()}_getOneTodo(t){return this.todos.find((e=>e.id===t))}_setTodos(){localStorage.setItem("todos",JSON.stringify(this.todos))}_deleteTodo(t){const e=+t.target.dataset.id;this._removeMarkUp(e);const n=this._getOneTodo(e);this.todos.splice(this.todos.indexOf(n),1),this._setTodos(),console.log("Todo was deleted")}_updateTodoComplete(t){const e=+t.target.dataset.id,n=this._getOneTodo(e);n.completeTodo(),this._removeMarkUp(e),this.todos=this.todos.filter((t=>t.id!==n.id)),n.completed?(this.todos.push(n),this._renderBottom(n)):(this.todos.unshift(n),this._renderTop(n)),this._setTodos()}_updateTodoText(t){let e=t.target.value;const n=+t.target.dataset.id;this._getOneTodo(n).updateText(e),this._setTodos()}_updateTodoDate(t){let e=t.target.value;const n=+t.target.dataset.id;this._getOneTodo(n).updateDate(e),this._setTodos()}_deleteLast(){this._removeMarkUp(this.todos[this.todos.length-1].id),this.todos.pop(),this._setTodos(),console.log("Todo was deleted")}_deleteFirst(){this._removeMarkUp(this.todos[0].id),this.todos.shift(),this._setTodos(),console.log("Todo was deleted")}addTodo(t,e,n){const r=new o({id:this._getMaxId()+1,todoText:t,completed:!1,fulfil:e,created:n});this.todos.unshift(r),this._renderTop(r),this._setTodos()}_getMaxId(){return+this.todos.reduce(((t,e)=>t>e.id?t:e.id),0)}_sortDate(t){const e=(t,e)=>t>e?1:-1;this.todos.sort(((n,o)=>this.sortingAsc?e(n[t],o[t]):e(o[t],n[t]))),this.sortingAsc=!this.sortingAsc;for(let t of this.todos)this._removeMarkUp(t.id);this._render(this.todos)}_init(){this.contentContainer.addEventListener("click",(t=>{"created"==t.target.getAttribute("data-name")&&this._sortDate("created"),"fulfil"==t.target.getAttribute("data-name")&&this._sortDate("fulfil"),t.target.classList.contains("content__btn")&&this._deleteTodo(t),t.target.classList.contains("content__checkbox")&&this._updateTodoComplete(t),"delete-last"===t.target.getAttribute("data-role")&&this._deleteLast(),"delete-first"===t.target.getAttribute("data-role")&&this._deleteFirst()})),this.contentContainer.addEventListener("change",(t=>{t.target.classList.contains("content__text")&&this._updateTodoText(t),t.target.classList.contains("content__date")&&this._updateTodoDate(t)}))}};new class{formContainer=document.querySelector(".form__wrap");content=null;constructor(t){this.content=t,this._render(),this._init()}_render(){this.formContainer.insertAdjacentHTML("afterbegin",this._markUp())}_markUp(){return'\n      <form class="form">\n        <input class="form__input"\n               type="search"\n               placeholder="Новая задача"\n               autofocus\n        >\n        <input class="form__date"\n               placeholder="Дата выполнения"\n               type="date"\n               name="trip-start"\n               min="2018-01-01"\n               max="2035-12-31"\n        >\n        <button class="form__btn" type="submit">Сохранить</button>   \n      </form>\n    '}_handleSubmit(t){let e=t.target.elements[0].value,n=t.target.elements[1].value,o=(new Date).toISOString().split("T")[0];this.content.addTodo(e,n,o),t.target.elements[0].value="",t.target.elements[1].value=""}_init(){this.formContainer.addEventListener("submit",(t=>{t.preventDefault(),t.target.classList.contains("form")&&this._handleSubmit(t)}))}}(x)})()})();